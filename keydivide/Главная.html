<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>KeyDivide Сайт по продаже клавиатур</title>
	<link rel="stylesheet" href="assets/css/navpanel.css">
  	<link rel="stylesheet" href="assets/css/navpanel_phone.css">
	<link rel="stylesheet" href="assets/css/Главная copy.css">
  	<link rel="stylesheet" href="assets/css/Главная-phone.css">
	<link rel="stylesheet" href="assets/css/footer.css">
  	<link rel="stylesheet" href="assets/css/footer_phone.css">
  	<link rel="stylesheet" href="assets/css/services-filt.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>


<body>

<header class="header">
    <div class="container">
        <div class="header__inner">
            <div><a class="header__logo" href="Главная.html">KeyDivide</a></div>

            <nav class="nav">
                <ul>
                    <li class="_link"><a class="nav__link" href="#keyboards">Клавиатуры</a></li>
                    <li class="_link"><a class="nav__link" href="#services">Услуги</a></li>
                    <li class="_link"><a class="nav__link" href="#aboutus">О нас</a></li>
                    <li class="_link"><a class="nav__link" href="#">Соцсети</a>
                        <ul class="url">
                            <li class="two_link" style="margin-top: 10px;"><a class="url__link" href="https://discord.gg/PKZ8ejUB8Z" target="_blank">Discord</a></li>
                            <li class="two_link"><a class="url__link" href="https://vk.com/cacao_keyboards" target="_blank">Вконтакте</a></li>
                            <li class="two_link"><a class="url__link" href="https://www.youtube.com/@cacaoboards7930/featured" target="_blank">YouTube</a></li>
                        </ul>
                    </li>					
                </ul>   
            </nav>
        </div>
        <!-- Блок для приветствия -->   
		    <div style="flex-direction: row; display: flex; align-items: center;">
          <div id="authStatus"></div>
		    	<a class="ikon" id="account" href="Авторизация.html" title="Профиль"><img src="assets/images/аккаунт.png" width="26" height="24"></a>
		    	<a class="ikon" href="Корзина.html" title="Корзина"><img src="assets/images/корзина.png" width="26" height="26"></a>
		    </div>
    </div>
</header>

<header class="header_phone">
    <div class="container">
        <div class="header__inner">
            <nav class="nav">
                <ul>
                    <li class="_link"><a class="nav__link" href="#" style="font-size: 30px;">=</a>
                        <ul class="url">
                            <li class="two_link"><a class="nav__link" href="Главная.html#keyboards">Клавиатуры</a></li>
                            <li class="two_link"><a class="nav__link" href="Главная.html#services">Услуги</a></li>
                            <li class="two_link"><a class="nav__link" href="Главная.html#aboutus">О нас</a></li>
                            <li class="two_link" style="margin-top: 10px;"><a class="nav__link" href="https://discord.gg/PKZ8ejUB8Z" target="_blank">Discord</a></li>
                            <li class="two_link"><a class="nav__link" href="https://vk.com/cacao_keyboards" target="_blank">Вконтакте</a></li>
                            <li class="two_link"><a class="nav__link" href="https://www.youtube.com/@cacaoboards7930/featured" target="_blank">YouTube</a></li>
                        </ul>
                    </li>					
                </ul>   
            </nav>
            <div><a class="header__logo" href="Главная.html">KeyDivide</a></div>
            <div>
    		    <a class="ikon" href="Авторизация.html" title="Профиль"><img src="assets/images/аккаунт.png" width="26" height="24"></a>
    		    <a class="ikon" href="Корзина.html" title="Корзина"><img src="assets/images/корзина.png" width="26" height="26"></a>
    	    </div>
        </div>
    </div>
</header>
	
<div class="container_k">
	<div id="panelWhite">
	    <div id="H2"><p>KeyDivide</p></div>
	    <div id="H21"><p>Интернет магазин, где вы можете найти для себя эргономичную клавиатуру, приобрести услуги моддинга или заказать сборку клавиатуры под свои предпочтения </p></div>
	    <div class="butt">
            <p><a href="#keyboards"><button class="anim" TYPE="submit"> К клавиатурам </button></a></p>
	        <p><a href="#services"><button class="anim" TYPE="submit">К услугам</button></a></p>
        </div>
	</div>
</div>						



<div class="container_usl">
    <a name="keyboards"></a>
    <div id="klaviatura">
        <div class="filter">
            <div style="width: 180px;"></div>
            <div id="SM2"><h3> Клавиатуры </h3></div>
            <div class="filter-container">
                <button class="filter-btn" onclick="toggleFilterDropdown()"> <span class="filter-text">Рекомендуемые</span><img src="assets/images/n-стрелка.png" alt="" width="12" height="12"></button>
                <div class="filter-dropdown">
                    <div class="filter-option" onclick="applyFilter('all')">Рекомендуемые</div>
                    <div class="filter-option" onclick="applyFilter('asc')">По возрастанию цены</div>
                    <div class="filter-option" onclick="applyFilter('desc')">По убыванию цены</div>
                </div>
            </div>
        </div>
        
        <div class="product-container">
            <!-- Карточки товаров будут динамически добавляться здесь -->
        </div>
    </div>
    <a name="services"></a>

    <div id="klaviatura">
        <div class="filter">
            <div style="width: 180px;"></div>
            <div id="SM2"><h3> Услуги </h3></div>
            <div class="filter-container3">
                <button class="filter-btn3" onclick="toggleFilterDropdowne()"> 
                  <span class="filter-text3">Рекомендуемые</span>
                  <img src="assets/images/n-стрелка.png" alt="" width="12" height="12">
                </button>
                <div class="filter-dropdown3">
                    <div class="filter-option3" onclick="applyFilterD('allo')">Рекомендуемые</div>
                    <div class="filter-option3" onclick="applyFilterD('asce')">По возрастанию цены</div>
                    <div class="filter-option3" onclick="applyFilterD('desce')">По убыванию цены</div>
                </div>
            </div>
        </div>
        
        <div class="product-container3">
            <!-- Карточки товаров будут динамически добавляться здесь -->
        </div>
    </div>

    <a name="aboutus"></a>
</div>






<div class="ergonomics-section">
    <h3 class="ergo-title">Проблемные зоны при работе с клавиатурой</h3>
    <div class="ergo-map-container">
      <div class="hand-diagram">
        <img src="assets/images/hand-diagram.jpg" alt="Диаграмма руки" class="hand-image">
        
        <!-- Активные зоны на карте -->
        <div class="hotspot wrist-hotspot" data-info="wrist-info">
          <div class="hotspot-tooltip">Запястье</div>
        </div>
        <div class="hotspot fingers-hotspot" data-info="fingers-info">
          <div class="hotspot-tooltip">Пальцы</div>
        </div>
        <div class="hotspot palm-hotspot" data-info="palm-info">
          <div class="hotspot-tooltip">Ладонь</div>
        </div>
        <div class="hotspot forearm-hotspot" data-info="forearm-info">
          <div class="hotspot-tooltip">Предплечье</div>
        </div>
      </div>
      
      <div class="ergo-info-panel">
        <div id="wrist-info" class="info-card active">
          <h4>Запястье</h4>
          <p>При работе с обычными клавиатурами запястья часто находятся в неестественном изогнутом положении, что может привести к туннельному синдрому - сдавливанию срединного нерва. Наши эргономичные клавиатуры позволяют держать запястья в нейтральном положении.</p>
          <div class="solution">
            <span>Решение:</span> Раздельные клавиатуры с отрицательным наклоном
          </div>
        </div>
        
        <div id="fingers-info" class="info-card">
          <h4>Пальцы</h4>
          <p>На традиционных клавиатурах пальцам приходится совершать неестественные движения для достижения дальних клавиш, что вызывает перенапряжение. Особенно страдают мизинцы, на которые приходится непропорционально большая нагрузка.</p>
          <div class="solution">
            <span>Решение:</span> Ортолинейная или колонная раскладка клавиш
          </div>
        </div>
        
        <div id="palm-info" class="info-card">
          <h4>Ладонь</h4>
          <p>Постоянное давление на запястный сустав и основание ладони может вызывать болезненные ощущения и нарушение кровообращения. Особенно это заметно при длительной работе с ноутбуками.</p>
          <div class="solution">
            <span>Решение:</span> Подставки под запястья и клавиатуры с плавающими клавишами
          </div>
        </div>
        
        <div id="forearm-info" class="info-card">
          <h4>Предплечье</h4>
          <p>Неестественное положение предплечий при работе с обычной клавиатурой вызывает напряжение в мышцах плечевого пояса и шеи, что может привести к хроническим болям.</p>
          <div class="solution">
            <span>Решение:</span> Раздельные клавиатуры с регулируемым углом
          </div>
        </div>
      </div>
    </div>
  </div>


 <div class="ergonomics">
  <h3 class="ergooo-title">Создай свою клавиатуру</h3>
  
  <div class="configurator-desc">
    <p>Хотите уникальную клавиатуру именно под себя? Выберите форму, тип переключателей и кейкапы. Начинайте сборку прямо сейчас!</p>
  </div>
  
  <div class="configurator-cta">
    <button class="open-configurator">
      <span class="btn-icon">⌨️</span>
      <span class="btn-text">Собрать свою клавиатуру</span>
      <span class="btn-arrow">→</span>
    </button>
    <div class="configurator-hint">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"></path>
        <path d="M12 16v-4M12 8h.01"></path>
      </svg>
      <span>Это займет всего 2 минуты</span>
    </div>
  </div>
</div>

<div id="keyboard-configurator">
  <div class="configurator-modal">
    <div class="configurator-header">
      <h2>Конструктор клавиатуры</h2>
      <button class="close-configurator">&times;</button>
    </div>
    
    <div class="configurator-steps">
      <div class="step active" data-step="1">
        <span>1</span>
        <p>Форма</p>
      </div>
      <div class="step" data-step="2">
        <span>2</span>
        <p>Переключатели</p>
      </div>
      <div class="step" data-step="3">
        <span>3</span>
        <p>Кейкапы</p>
      </div>
      <div class="step" data-step="4">
        <span>4</span>
        <p>Дополнительно</p>
      </div>
    </div>
    
    <div class="configurator-content">
      <!-- Выбор формы -->
      <div class="step-content active" data-step-content="1">
        <h3>Выберите форму клавиатуры</h3>
        <div class="options-grid">
          <div class="option-card" data-form="ortho">
            <img src="assets/images/ortho-form.png" alt="Ортолинейная">
            <h4>Ортолинейная</h4>
            <p>Клавиши расположены ровными рядами без смещения</p>
            
            <!-- Форматы для ортолинейной -->
            <div class="sub-options hidden" data-sub-options="ortho">
              <div class="sub-option" data-format="planck">
                <h5>Planck (40%)</h5>
              </div>
              <div class="sub-option" data-format="preonic">
                <h5>Preonic (50%)</h5>
              </div>
            </div>
          </div>
          
          <div class="option-card" data-form="split">
            <img src="assets/images/split-form.png" alt="Раздельная">
            <h4>Раздельная</h4>
            <p>Две отдельные половинки для естественного положения рук</p>
            
            <!-- Форматы для раздельной -->
            <div class="sub-options hidden" data-sub-options="split">
              <div class="sub-option" data-format="sofle">
                <h5>Sofle (60%)</h5>
              </div>
              <div class="sub-option" data-format="lily58">
                <h5>Lily58 (58%)</h5>
              </div>
            </div>
          </div>
          
          <div class="option-card" data-form="trad">
            <img src="assets/images/trad-form.jpg" alt="Традиционная">
            <h4>Традиционная</h4>
            <p>Стандартная раскладка с наклоном</p>
            
            <!-- Форматы для традиционной -->
            <div class="sub-options hidden" data-sub-options="trad">
              <div class="sub-option" data-format="60">
                <h5>60%</h5>
              </div>
              <div class="sub-option" data-format="65">
                <h5>65%</h5>
              </div>
              <div class="sub-option" data-format="75">
                <h5>75%</h5>
              </div>
              <div class="sub-option" data-format="80">
                <h5>80% (TKL)</h5>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Выбор переключателей -->
      <div class="step-content" data-step-content="2">
        <h3>Выберите тип переключателей</h3>
        <div class="options-grid">
          <!-- Линейные -->
          <div class="option-card" data-switch="linear">
            <img src="assets/images/akko-blue.png" alt="Линейные">
            <h4>Линейные</h4>
            <p>Плавное нажатие без тактильного отклика</p>
            
            <div class="sub-options hidden" data-sub-options="linear">
              <div class="sub-option" data-switch-type="akko-linear">
                <img src="https://static.insales-cdn.com/files/1/8147/3514323/original/GIF_MXStd_Red_v004.gif" width="200" height="200" alt="Cherry MX Red">
                <h5>Cherry MX Red</h5>
              </div>
              <div class="sub-option" data-switch-type="outemu-silent">
                <img src="assets/images/Снимок.PNG" alt="Outemu Silent Black">
                <h5>Outemu Silent Black</h5>
              </div>
            </div>
          </div>
          
          <!-- Тактильные -->
          <div class="option-card" data-switch="tactile">
            <img src="assets/images/тактильные.PNG" alt="Тактильные">
            <h4>Тактильные</h4>
            <p>Ощутимый бугорок при срабатывании</p>
            
            <div class="sub-options hidden" data-sub-options="tactile">
              <div class="sub-option" data-switch-type="akko-tactile">
                <img src="assets/images/тактильные1.PNG" alt="Matias Quiet Click">
                <h5>Matias Quiet Click</h5>
              </div>
              <div class="sub-option" data-switch-type="gateron-tactile">
                <img src="https://static.insales-cdn.com/files/1/3618/3526178/original/GIF_MXGreen.gif"  width="200" height="200"  alt="Cherry MX Green">
                <h5>Cherry MX Green</h5>
              </div>
            </div>
          </div>
          
          <!-- Кликающие -->
          <div class="option-card" data-switch="clicky">
            <img src="assets/images/кликающие.PNG" alt="Кликающие">
            <h4>Кликающие</h4>
            <p>Яркий звук и тактильный отклик</p>
            
            <div class="sub-options hidden" data-sub-options="clicky">
              <div class="sub-option" data-switch-type="akko-clicky">
                <img src="assets/images/кликающие1.PNG" alt="Razer Green">
                <h5>Razer Green</h5>
              </div>
              <div class="sub-option" data-switch-type="kailh-box">
                <img src="https://geekboards.ru/static/gifs/box_navy.gif" alt="Kailh Box Navy">
                <h5>Kailh Box Navy</h5>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Выбор кейкапов -->
      <div class="step-content" data-step-content="3">
        <h3>Выберите кейкапы</h3>
        <div class="options-grid">
          <div class="option-card" data-keycaps="abs">
  <img src="assets/images/abs-keycaps.png" alt="ABS">
  <h4>ABS пластик</h4>
  <p>Гладкие, со временем могут блестеть</p>
</div>
<div class="option-card" data-keycaps="pbt">
  <img src="assets/images/pbt-keycaps.png" alt="PBT">
  <h4>PBT пластик</h4>
  <p>Шероховатые, более износостойкие</p>
</div>
<div class="option-card" data-keycaps="custom">
  <img src="assets/images/custom-keycaps.png" alt="Кастомные">
  <h4>Кастомные</h4>
  <p>Индивидуальный дизайн по вашему эскизу</p>
</div>
        </div>
      </div>
      
      <!-- Дополнительные опции -->
      <div class="step-content" data-step-content="4">
        <h3>Дополнительные опции</h3>
        <div class="additional-options">
          <div class="option-row">
            <label>
              <input type="checkbox" name="backlight" value="backlight">
              <span>RGB подсветка (+3,500₽)</span>
            </label>
          </div>
          <div class="option-row">
            <label>
              <input type="checkbox" name="bluetooth" value="bluetooth">
              <span>Bluetooth модуль (+4,200₽)</span>
            </label>
          </div>
          <div class="option-row">
            <label>
              <input type="checkbox" name="wristRest" value="wristRest">
              <span>Подставка под запястья (+2,800₽)</span>
            </label>
          </div>
        </div>
        
        <div class="preview-section">
          <h4>Ваша сборка:</h4>
          <div class="keyboard-preview">
            <img id="form-preview" src="assets/images/ortho-form.png" alt="Форма">
            <div class="keyboard-specs">
              <p><strong>Форма:</strong> <span id="form-spec">Ортолинейная</span> <span id="format-spec"></span></p>
              <p><strong>Переключатели:</strong> <span id="switch-spec">Не выбрано</span></p>
              <p><strong>Кейкапы:</strong> <span id="keycaps-spec">Не выбрано</span></p>
              <p><strong>Дополнительно:</strong> <span id="extras-spec">Нет</span></p>
              <p class="total-price"><strong>Итого:</strong> <span id="total-price">0</span> ₽</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="configurator-nav">
      <button class="nav-btn prev-btn" disabled>Назад</button>
      <button class="nav-btn next-btn">Далее</button>
      <button class="nav-btn finish-btn hidden">Завершить сборку</button>
    </div>
  </div>
</div>




  <div id = "contr">
    <div class="pysto">
        <div id = "SM5">
            <h3> Мы создаем и модернизируем клавиатуры, для того чтобы ваше взаимодействие с
             компьютером стало более удобным и приятным</h3>
        </div>
        <div class="about">
            <div class="text_about">
                <div class="SM4"> 
                    <p> Мы беспокоимся за руки людей, которые проводят много времени за
                    компьютером, так как при печати на обычных клавиатурах запястья 
                    перенапрягаются. Поэтому мы стараемся предоставлять эргономичные
                    клавиатуры лучшего качества по конкурентноспособным ценам, что бы    
                    снять это напряжение и увеличить удобство использования</p>
        
                    <p>Также мы предоставляем услуги моддинга и обслуживания для ваших
                    клавиатур или даже можем собрать новую под ваши предпочтения</p>
                </div>
                <div class="butt1">
                    <a href="#keyboards"><button class="anim" TYPE="submit"> К клавиатурам </button></a>
	                <a href="#services"><button class="anim" TYPE="submit">К услугам</button></a>
                </div>
            </div>
            <div class="SM6"><img src="https://giffun.ru/wp-content/uploads/2022/08/bongo-cat-typing.gif" width="390" height="300" alt="почему так"></div>
        </div>
    </div>
</div>

<div class="footer">
    <div class="footbox">
        <div class="line"></div>
        <div class="colums">
            <div class="col1">
                <h1>KeyDivide</h1>
                <p>made by people for people</p>
            </div>
            <div class="colinfo">
                <div class="col2">
                    <h1 class="coltitle">Магазин</h1>
                    <p class="coltext"><a href="#keyboards">Клавиатуры</a></p>
                    <p class="coltext"><a href="#services">Услуги</a></p>
                </div>
                <div class="col3">
                    <h1 class="coltitle">Соцсети</h1>
                    <a href="https://discord.gg/PKZ8ejUB8Z" target="_blank"><p class="coltext">Discord</p></a>
                    <a href="https://vk.com/cacao_keyboards" target="_blank"><p class="coltext">Вконтакте</p></a>
                    <a href="https://www.youtube.com/@cacaoboards7930/featured" target="_blank"><p class="coltext">YouTube</p></a>  
                </div>
                <div class="col4">
                    <h1 class="coltitle">Инфо</h1>
                    <p class="coltext"><a href="#aboutus">О нас</a></p>
                </div>
                <div class="col5">
                    <h1 class="coltitle">Контакты</h1>
                    <p>По поводу интересующих вопросов или предложений пишите нам в Discord или of_cacaoboards@mail.ru</p>
                </div>
            </div>
        </div>
    </div>
    <div class="by">
        <div class="byby">
            <p>©CacaoBoards All Rights Reserved</p>
            <p>Designed with ❤️ by neyman</p>
        </div>
    </div>
</div>

<script src="check_authorization.js"></script>

  

<script>
  document.addEventListener('DOMContentLoaded', async () => {
      await checkAuthAndDisplayUser();
    });
   
    let currentFilter = 'all'; // по умолчанию

// Функция открытия/закрытия выпадающего списка
function toggleFilterDropdown() {
  document.querySelector('.filter-dropdown').classList.toggle('active');
}

// Функция применения фильтра
function applyFilter(filter) {
  currentFilter = filter;

  // Обновляем текст кнопки
  const filterTextMap = {
    'all': 'Рекомендуемые',
    'asc': 'По возрастанию цены',
    'desc': 'По убыванию цены'
  };

  document.querySelector('.filter-text').textContent = filterTextMap[filter] || 'Фильтр';

  // Закрываем выпадающий список
  document.querySelector('.filter-dropdown').classList.remove('active');

  // Перезагружаем товары с новым фильтром
  displayProducts();
}

// Функция для отображения товаров из БД
async function displayProducts() {
  const productContainer = document.querySelector('.product-container');
  productContainer.innerHTML = '';

  try {
    // Запрашиваем данные с сервера
    const response = await fetch('http://localhost:5000/api/products');
    if (!response.ok) throw new Error('Ошибка загрузки товаров');
    
    let products = await response.json();

    // Применяем фильтр
    if (currentFilter === 'asc') {
      products.sort((a, b) => a.price - b.price); // по возрастанию
    } else if (currentFilter === 'desc') {
      products.sort((a, b) => b.price - a.price); // по убыванию
    }
    // 'all' — без сортировки, просто как есть

    // Отрисовка товаров
    products.forEach(product => {
      const in_card1 = document.createElement('a');
      in_card1.classList.add('in_card1');
      in_card1.href = product.link || '#';

      const productImg = document.createElement('img');
      productImg.src = product.img || 'assets/images/default.jpg';
      productImg.alt = product.name;
      in_card1.appendChild(productImg);

      const productName = document.createElement('h4');
      productName.textContent = product.name;
      in_card1.appendChild(productName);

      const productPrice = document.createElement('h5');
      productPrice.textContent = `${product.price} ₽`;
      in_card1.appendChild(productPrice);

      productContainer.appendChild(in_card1);
    });
  } catch (error) {
    console.error('Ошибка:', error);
    productContainer.innerHTML = '<p>Не удалось загрузить товары. Попробуйте позже.</p>';
  }
}

document.addEventListener('DOMContentLoaded', displayProducts);
</script>
<script src="services-fil.js"></script>

<script src="scriptTest.js"></script>


</body>
</html>
